<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/vnd.microsoft.icon"
        href="https://gruppe-430.developerakademie.net/favicon_io/favicon.ico">
    <title>Join</title>
    <link rel="stylesheet" href="./css/board.css">
    <link rel="stylesheet" href="./css/contacts.css" />
    <link rel="stylesheet" href="./css/head.css">
    <link rel="stylesheet" href="./css/nav.css">
    <link rel="stylesheet" href="./css/fonts.css">
    <link rel="stylesheet" href="css/add_task.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <script src="./js/script.js"></script>
    <script src="./js/board.js"></script>
    <script src="./js/add_task.js"></script>
    <script src="./js/add_task_category.js"></script>
    <script src="./js/add_task_contacts.js"></script>
    <script src="js/head.js"></script>
    <script src="js/nav.js"></script>
    <script src="js/mini_backend.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

</head>

<body onload="includeHTML(), initBoard()">
    <!--includes header and nav bar-->
    <div w3-include-html="./assets/templates/head.html"></div>-->
    <div w3-include-html="./assets/templates/nav.html"></div>

    <!-- popup for tasks -->
    <div id="boardPopupTask" class="popup-board-task-bgr d-none">

    </div>
    <!-- -------------------------------------------- -->

    <!-- popup for edit task -->
    <div id="boardPopupTaskEdit" class="popup-board-task-bgr d-none">
        <form id="popupEditFormId"
            onsubmit="saveEditPopupBoard();return false;"
            class="contPopupEditTaskBoard">
            <!-- title -->
            <div class="column title">
                <span>Title</span>
                <input value="" required placeholder="Enter a title" type="text" onkeyup="addTitle()"
                    id="titleInput">
            </div>
            <!-- description -->
            <div class="column description">
                <span>Description</span>
                <textarea required placeholder="Enter a Description" type="text" onkeyup="addDescription()"
                    id="descriptionTextarea"></textarea>
            </div>
            <!-- due date -->
            <div class="column">
                <span>Due date</span>
                <input value="" type="text" required placeholder="dd/mm/yyyy" id="datepicker"
                    pattern="\d{1,2}\/\d{1,2}\/\d{4}"
                    style="background: url('assets/img/calendar.svg') no-repeat 95%; background-color: white;">
            </div>
            <!-- prio -->
            <div class="column">
                <span>Prio</span>
                <div class="prioButtons">
                    <div onclick="addPrio(0)" id="prioButton0" style="background-color:white;">Urgent <img
                            id="prioImage0" src="assets/img/urgent_newTask.svg"></div>
                    <div onclick="addPrio(1)" id="prioButton1" style="background-color:white;">Medium <img
                            id="prioImage1" src="assets/img/medium_newTask.svg"></div>
                    <div onclick="addPrio(2)" id="prioButton2" style="background-color:white;">Low <img id="prioImage2"
                            src="assets/img/low_newTask.svg"></div>
                </div>
            </div>
            <div class="column contacts">
                <span>Assigned to</span>
                <div class="selectField" id="selectFieldContact" onclick="openCloseContacts()">
                    <div class="selectContact" id="selectContact">
                        <input id="contact" required placeholder="Select contacts to assign">
                        <div id="contactImage"><img class="paddingRight" src="assets/img/arrow_drop.svg"></div>
                    </div>
                    <div class="d-none" id="openedContacts" onclick="notOpenCloseContacts(event)">
                    </div>
                </div>
                <div id="addedContacts"></div>
            </div>
            <button type="submit" class="create-new-contact-check">
                OK <img src="./assets/img/contact_check.png" alt="">
            </button>
            <img onclick="closeEditTaskBoard()" class="popup-close" src="./assets/img/board_popup_close.png" alt="">
        </form>
    </div>
    <!-- -------------------------------------------- -->

    <!-- popup add task board -->
    <div id="popupAddTaskBoard" class="popup-board-task-bgr d-none">
        <form id="popupAddTastBoardForm" onsubmit="createTaskBoard();return false;" class="contPopupAddTaskBoard">
            <!-- header -->
            <div class="popupAddTaskBoardHead">
                <h1>Add Task</h1>
            </div>
            <div class="popupAddTaskBoardMain">
                <!-- left side -->
                <div class="popupAddTaskBoardLeft">
                    <!-- title -->
                    <div class="column title">
                        <span>Title</span>
                        <input required placeholder="Enter a title" type="text" onkeyup="addTitle()" id="titleInput">
                    </div>
                    <!-- description -->
                    <div class="column description">
                        <span>Description</span>
                        <textarea required placeholder="Enter a Description" type="text" onkeyup="addDescription()"
                            id="descriptionTextarea"></textarea>
                    </div>
                    <!-- category -->
                    <div class="column category">
                        <span>Category</span>
                        <div class="selectField" id="selectField" onclick="openCloseCategories()">
                            <div class="selectCategory" id="selectCategory">
                                <div class="center">
                                    <div id="categoryColor">
                                    </div>
                                    <input maxlength="16" id="category" required style="color: #dcdcdc;"
                                        placeholder="Select task category">
                                </div>
                                <div id="categoryImage"><img src="assets/img/arrow_drop.svg"></div>
                            </div>
                            <div class="d-none" id="openedCategories" onclick="notOpenCloseCategories(event)">
                                <div class="oneCategory" onclick="addNewCategory()">New category</div>
                                <div class="oneCategory" onclick="addCategory(0)">
                                    <div class="center">
                                        <div id="imageCat0" class="imageCat"><img src="assets/img/circle_pink.svg">
                                        </div>
                                        <div id="category0">Marketing</div>
                                    </div>
                                </div>
                                <div class="oneCategory" onclick="addCategory(1)">
                                    <div class="center">
                                        <div id="imageCat1" class="imageCat"><img src="assets/img/circle_turquoise.svg">
                                        </div>
                                        <div id="category1">Backoffice</div>
                                    </div>
                                </div>
                                <div class="oneCategory" onclick="addCategory(2)">
                                    <div class="center">
                                        <div id="imageCat2" class="imageCat"><img src="assets/img/circle_darkblue.svg">
                                        </div>
                                        <div id="category2">Sales</div>
                                    </div>
                                </div>
                                <div class="oneCategory" onclick="addCategory(3)">
                                    <div class="center">
                                        <div id="imageCat3" class="imageCat"><img src="assets/img/circle_orange.svg">
                                        </div>
                                        <div id="category3">Engineering</div>
                                    </div>
                                </div>
                                <div class="oneCategory" onclick="addCategory(4)">
                                    <div class="center">
                                        <div id="imageCat4" class="imageCat"><img src="assets/img/circle_green.svg">
                                        </div>
                                        <div id="category4">Manufacturing</div>
                                    </div>
                                </div>
                                <div class="oneCategory" onclick="addCategory(5)">
                                    <div class="center">
                                        <div id="imageCat5" class="imageCat"><img src="assets/img/circle_red.svg"></div>
                                        <div id="category5">Customer service</div>
                                    </div>
                                </div>
                                <div class="oneCategory" onclick="addCategory(6)">
                                    <div class="center">
                                        <div id="imageCat6" class="imageCat"><img src="assets/img/circle_blue.svg">
                                        </div>
                                        <div id="category6">IT</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="categoryColors" class="d-none">
                            <div onclick="changeColor(0)" id="changeColor1" class="color"><img
                                    src="assets/img/circle_pink.svg"></div>
                            <div onclick="changeColor(1)" id="changeColor0" class="color"><img
                                    src="assets/img/circle_turquoise.svg"></div>
                            <div onclick="changeColor(2)" id="changeColor2" class="color"><img
                                    src="assets/img/circle_darkblue.svg"></div>
                            <div onclick="changeColor(3)" id="changeColor3" class="color"><img
                                    src="assets/img/circle_orange.svg"></div>
                            <div onclick="changeColor(4)" id="changeColor4" class="color"><img
                                    src="assets/img/circle_green.svg"></div>
                            <div onclick="changeColor(5)" id="changeColor5" class="color"><img
                                    src="assets/img/circle_red.svg"></div>
                            <div onclick="changeColor(6)" id="changeColor6" class="color"><img
                                    src="assets/img/circle_blue.svg"></div>
                        </div>
                    </div>
                    <!-- assigned to -->
                    <div class="column contacts">
                        <span>Assigned to</span>
                        <div class="selectField" id="selectFieldContact" onclick="openCloseContacts()">
                            <div class="selectContact" id="selectContact">
                                <input id="contact" required placeholder="Select contacts to assign">
                                <div id="contactImage"><img class="paddingRight" src="assets/img/arrow_drop.svg"></div>
                            </div>
                            <div class="d-none" id="openedContacts" onclick="notOpenCloseContacts(event)">
                            </div>
                        </div>
                        <div id="addedContacts"></div>
                    </div>
                </div>
                <!-- vertical dividing bar -->
                <div class="dividingBar"></div>
                <!-- right side -->
                <div class="popupAddTaskBoardRight">
                    <!-- due date -->
                    <div class="column">
                        <span>Due date</span>
                        <input type="text" required placeholder="dd/mm/yyyy" id="datepicker"
                            pattern="\d{1,2}\/\d{1,2}\/\d{4}"
                            style="background: url('assets/img/calendar.svg') no-repeat 95%; background-color: white;">
                    </div>
                    <!-- prio -->
                    <div class="column">
                        <span>Prio</span>
                        <div class="prioButtons">
                            <div onclick="addPrio(0)" id="prioButton0" style="background-color:white;">Urgent <img
                                    id="prioImage0" src="assets/img/urgent_newTask.svg"></div>
                            <div onclick="addPrio(1)" id="prioButton1" style="background-color:white;">Medium <img
                                    id="prioImage1" src="assets/img/medium_newTask.svg"></div>
                            <div onclick="addPrio(2)" id="prioButton2" style="background-color:white;">Low <img
                                    id="prioImage2" src="assets/img/low_newTask.svg"></div>
                        </div>
                    </div>
                    <!-- subtasks -->
                    <div class="column subtask">
                        <span>Subtasks</span>
                        <div class="selectField">
                            <div class="selectContact">
                                <input maxlength="16" type="text" placeholder="Add new subtask" id="newSubtaskInput">
                                <div><img class="paddingRight" src="assets/img/subtask_plus.svg"
                                        onclick="addNewSubtask()"></div>
                            </div>
                        </div>
                        <div id="newSubtasks"></div>
                    </div>
                    <!-- buttons -->
                    <div class="cont-create-contact-buttons popupBoardButtonsPosition">
                        <button type="reset" onclick="closeAddTaskBoard()" class="create-new-contact-deny">
                            Cancle <img src="./assets/img/contact_add_task.png" alt="">
                        </button>
                        <button type="submit" class="create-new-contact-check">
                            Create Task <img src="./assets/img/contact_check.png" alt="">
                        </button>
                    </div>
                </div>
            </div>
            <img onclick="closeAddTaskBoard()" class="popup-close" src="./assets/img/board_popup_close.png" alt="">
        </form>
    </div>
    <!-- ---------------------------------------------------- -->

    <div class="cont-board-side">
        <!--contains head area "board // search-bar // add task"-->
        <div class="cont-head">
            <h1 class="header-board">Board</h1>
            <div class="cont-find-task">
                <div class="find-task">
                    <input id="filterTasks" onkeyup="filterTasks()" class="find-task-input" type="text"
                        placeholder="Find Task">
                    <div class="cont-find-task-right">
                        <div class="find-task-stripe"></div>
                        <img class="find-task-input-img" src="./assets/img/board_find_task_lupe.png" alt="">
                    </div>
                </div>
                <button onclick="addTaskBoard()" class="add-task">
                    Add task <img class="add-task-plus-img" src="./assets/img/board_add_task_plus.png" alt="">
                </button>
            </div>
        </div>
        <!-- -------------------------------------------- -->

        <!--contains todo // in progress // await for feedback // done-->
        <div class="cont-todo">
            <!--todo-->
            <div class="cont-child-todo">
                <div class="todo-head">
                    <h2 class="todo-header">To do</h2>
                    <img onclick="addTaskBoard('todo')" class="add-task-button"
                        src="./assets/img/board_add_task_button.png" alt="">
                </div>

                <div ondrop="drop('todo')" ondragover="allowDrop(event)" id="todo">

                </div>
            </div>

            <!--in progress-->
            <div class="cont-child-todo">
                <div class="todo-head">
                    <h2 class="todo-header">In Progress</h2>
                    <img onclick="addTaskBoard('in Process')" class="add-task-button"
                        src="./assets/img/board_add_task_button.png" alt="">
                </div>

                <div ondrop="drop('in Process')" ondragover="allowDrop(event)" id="inProcess">

                </div>
            </div>

            <!--await feedback-->
            <div class="cont-child-todo">
                <div class="todo-head">
                    <h2 class="todo-header">Awaiting Feedback</h2>
                    <img onclick="addTaskBoard('awaiting Feedback')" class="add-task-button"
                        src="./assets/img/board_add_task_button.png" alt="">
                </div>

                <div ondrop="drop('awaiting Feedback')" ondragover="allowDrop(event)" id="awaitingFeedback">

                </div>
            </div>

            <!--done-->
            <div class="cont-child-todo">
                <div class="todo-head">
                    <h2 class="todo-header">Done</h2>
                    <img onclick="addTaskBoard('done')" class="add-task-button"
                        src="./assets/img/board_add_task_button.png" alt="">
                </div>

                <div ondrop="drop('done')" ondragover="allowDrop(event)" id="done">

                </div>
            </div>
        </div>
        <!-- -------------------------------------------- -->
    </div>
    <div class="cont-success-message" style="transform: translateY(200%); display: none">
        <span>Task added to board</span>
    </div>
</body>

</html>